
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Element autoMethod &#8212; IoC.Configuration 1.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Element autoProperty" href="auto-property.html" />
    <link rel="prev" title="Element autoService" href="element-auto-service.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="auto-property.html" title="Element autoProperty"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="element-auto-service.html" title="Element autoService"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">IoC.Configuration 1.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >XML Configuration File</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../dependency-injection.html" >Dependency Injection</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" >Autogenerated Services</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="element-auto-service.html" accesskey="U">Element <strong>autoService</strong></a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Element <strong>autoMethod</strong></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="element-automethod">
<h1>Element <strong>autoMethod</strong><a class="headerlink" href="#element-automethod" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#the-format-of-automethod" id="id1">The format of <strong>autoMethod</strong></a></p>
<ul>
<li><p><a class="reference internal" href="#method-name-and-return-type-in-automethod" id="id2">Method name and return type in <strong>autoMethod</strong></a></p></li>
<li><p><a class="reference internal" href="#method-signature" id="id3">Method signature</a></p></li>
<li><p><a class="reference internal" href="#specifying-the-return-values" id="id4">Specifying the return values</a></p></li>
<li><p><a class="reference internal" href="#referencing-the-auto-implemented-method-parameters" id="id5">Referencing the auto-implemented method parameters</a></p></li>
<li><p><a class="reference internal" href="#caching-the-returned-values" id="id6">Caching the returned values</a></p></li>
<li><p><a class="reference internal" href="#resolving-conflicts-by-using-declaringinterface-in-automethod" id="id7">Resolving conflicts by using <strong>declaringInterface</strong> in <strong>autoMethod</strong></a></p></li>
</ul>
</li>
</ul>
</div>
<p>Element <strong>autoMethod</strong> is used to configure the auto-generated implementation of a method in interface specified in element <strong>autoService</strong>.</p>
<p>An example of <strong>autoMethod</strong> elements is provided in <a class="reference internal" href="index.html"><span class="doc">Autogenerated Services</span></a>. In this section some specifics of this element will be provided.</p>
<section id="the-format-of-automethod">
<h2><a class="toc-backref" href="#id1">The format of <strong>autoMethod</strong></a><a class="headerlink" href="#the-format-of-automethod" title="Permalink to this headline">¶</a></h2>
<section id="method-name-and-return-type-in-automethod">
<h3><a class="toc-backref" href="#id2">Method name and return type in <strong>autoMethod</strong></a><a class="headerlink" href="#method-name-and-return-type-in-automethod" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Method name is specified using the attribute <strong>name</strong>.</p></li>
<li><dl>
<dt>Method return value type is specified using the attribute <strong>returnType</strong> and optional attribute <strong>assembly</strong>, or alternatively using attribute <strong>returnTypeRef</strong> to reference a type defined in sole <strong>/iocConfiguration/typeDefinitions/typeDefinition</strong> element.</dt><dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even though we only need the method name and signature, to identify the method, the return type makes the configuration more readable. Also, the return type serves as an additional way to identify the method, if a method with similar name and signature exists in multiple extended interfaces.</p>
</div>
</dd>
</dl>
</li>
</ul>
<p>The example below demonstrates how method name and return type are specified:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nt">&lt;autoMethod</span> <span class="na">name=</span><span class="s">&quot;GetValidators&quot;</span>
<span class="linenos">2</span>            <span class="na">returnType=</span><span class="s">&quot;System.Collections.Generic.IReadOnlyList[SharedServices.Interfaces.IActionValidator]&quot;</span><span class="nt">&gt;</span>
<span class="linenos">3</span>
<span class="linenos">4</span>    <span class="cm">&lt;!--method signature and return value elements go here...--&gt;</span>
<span class="linenos">5</span><span class="nt">&lt;/autoMethod&gt;</span>
</pre></div>
</div>
</section>
<section id="method-signature">
<h3><a class="toc-backref" href="#id3">Method signature</a><a class="headerlink" href="#method-signature" title="Permalink to this headline">¶</a></h3>
<p>Child element <strong>methodSignature</strong> is used to specify the auto-implemented method signature.</p>
<p>If the method has no parameters, no <strong>methodSignature</strong> element is necessary. Otherwise, this element should be present, which should list the method parameters.</p>
<p>The example below demonstrates how method signature is specified:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">&lt;!--autoMethod below is a configuration for a C# method</span>
<span class="linenos"> 2</span><span class="cm">System.Collections.Generic.IReadOnlyList[SharedServices.Interfaces.IActionValidator] GetValidators(</span>
<span class="linenos"> 3</span><span class="cm">                        SharedServices.DataContracts.ActionTypes actionType,</span>
<span class="linenos"> 4</span><span class="cm">                        System.Guid projectGuid,</span>
<span class="linenos"> 5</span><span class="cm">                        int someIntParam)--&gt;</span>
<span class="linenos"> 6</span><span class="nt">&lt;autoMethod</span> <span class="na">name=</span><span class="s">&quot;GetValidators&quot;</span>
<span class="linenos"> 7</span>            <span class="na">returnType=</span><span class="s">&quot;System.Collections.Generic.IReadOnlyList[SharedServices.Interfaces.IActionValidator]&quot;</span><span class="nt">&gt;</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span>    <span class="nt">&lt;methodSignature&gt;</span>
<span class="linenos">10</span>        <span class="cm">&lt;!--paramName attribute is optional, however it</span>
<span class="linenos">11</span><span class="cm">            makes the auto-implementation more readable. --&gt;</span>
<span class="linenos">12</span>        <span class="nt">&lt;object</span> <span class="na">paramName=</span><span class="s">&quot;actionType&quot;</span> <span class="na">typeRef=</span><span class="s">&quot;ActionTypes&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">13</span>        <span class="nt">&lt;object</span> <span class="na">paramName=</span><span class="s">&quot;projectGuid&quot;</span> <span class="na">type=</span><span class="s">&quot;System.Guid&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">14</span>        <span class="nt">&lt;int32</span> <span class="na">paramName=</span><span class="s">&quot;someIntParam&quot;</span> <span class="nt">/&gt;</span>
<span class="linenos">15</span>    <span class="nt">&lt;/methodSignature&gt;</span>
<span class="linenos">16</span>
<span class="linenos">17</span>    <span class="cm">&lt;!--return value elements go here..--&gt;</span>
<span class="linenos">18</span><span class="nt">&lt;/autoMethod&gt;</span>
</pre></div>
</div>
</section>
<section id="specifying-the-return-values">
<h3><a class="toc-backref" href="#id4">Specifying the return values</a><a class="headerlink" href="#specifying-the-return-values" title="Permalink to this headline">¶</a></h3>
<p>Return values are specified by using any number of optional <strong>if</strong> elements, followed by required <strong>default</strong> element.</p>
<ul>
<li><p>Specifying a return value using element <strong>if</strong></p>
<blockquote>
<div><p>Element <strong>if</strong> is used to specify a return value by providing values for up to 10 parameters using attributes <strong>parameter1</strong>, <strong>parameter2</strong>, …, <strong>parameter10</strong>.</p>
<p>Attribute <strong>parameter1</strong>  corresponds to the first parameter in <strong>methodSignature</strong> element, attribute <strong>parameter2</strong> corresponds to the second parameter in <strong>methodSignature</strong> element, and so on.</p>
<p>The number of parameter attributes should be the same as the number of parameters in element <strong>methodSignature</strong>.</p>
<dl>
<dt>The method auto-implemented by <strong>IoC.Configuration</strong> will return the value specified in child element of <strong>if</strong> element, if parameters in method call are equal to the values in attributes <strong>parameter1</strong>, <strong>parameter2</strong>, etc.</dt><dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The child of <strong>if</strong> element should be a value initializer element, such as <strong>collection</strong>, <strong>int32</strong>, <strong>constructedValue</strong>, <strong>injectedObject</strong>, etc. Refer to <a class="reference internal" href="../value-initialization-elements/index.html"><span class="doc">Value Initialization Elements</span></a> for more details on value initializer elements.</p>
</div>
</dd>
</dl>
<p>The value of parameter attribute is one of the following:</p>
<blockquote>
<div><ul>
<li><p>A value that will be de-serialized by a parameter serializer to a value of the parameter (example &lt;if parameter1=”15.3”&gt;).</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to <a class="reference internal" href="../parameter-serializers.html"><span class="doc">Parameter Serializers</span></a> for more details on parameter serializers.</p>
</div>
<p>Example (see <strong>parameter2</strong> with value “<strong>8663708F-C707-47E1-AEDC-2CD9291AD4CB</strong>”):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!--The generated code will return a collection with two items of types</span>
<span class="cm">    SharedServices.Implementations.ActionValidator1 and SharedServices.Implementations.ActionValidator3</span>
<span class="cm">    if the first parameter value is SharedServices.DataContracts.ActionTypes.ViewFilesList, and the second parameter</span>
<span class="cm">    value is a Guid &quot;8663708F-C707-47E1-AEDC-2CD9291AD4CB&quot; (note, this value will be serialized to System.Guid,</span>
<span class="cm">    if the parameter is of type System.Guid).</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;if</span> <span class="na">parameter1=</span><span class="s">&quot;_classMember:SharedServices.DataContracts.ActionTypes.ViewFilesList&quot;</span>
    <span class="na">parameter2=</span><span class="s">&quot;8663708F-C707-47E1-AEDC-2CD9291AD4CB&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;collection&gt;</span>
        <span class="nt">&lt;injectedObject</span> <span class="na">type=</span><span class="s">&quot;SharedServices.Implementations.ActionValidator1&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;injectedObject</span> <span class="na">type=</span><span class="s">&quot;SharedServices.Implementations.ActionValidator3&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/collection&gt;</span>
<span class="nt">&lt;/if&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>A class member specified by using prefix <strong>_classMember</strong> followed by class member path. Class member path is the full name of the type (or the type alias for some type defined in <strong>iocConfiguration/typeDefinitions/typeDefinition</strong> element), followed by class member name.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to <a class="reference internal" href="../value-initialization-elements/class-member.html"><span class="doc">classMember element</span></a> for more details on how class members are resolved.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Class member can be can be a member in the auto-generated service as well.</p>
</div>
<p>Example (see <strong>parameter1</strong> with value “<strong>_classMember:ActionTypes.ViewFileContents</strong>”):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!--The generated code will return a collection with one items of type</span>
<span class="cm">    SharedServices.Implementations.ActionValidator1, if the first parameter</span>
<span class="cm">    value is SharedServices.DataContracts.ActionTypes.ViewFileContents, and the second parameter</span>
<span class="cm">    value is a Guid &quot;F981F171-B382-4F15-A8F9-FE3732918D3F&quot; (note, this value will be serialized to</span>
<span class="cm">    System.Guid, if the parameter is of type System.Guid).</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;if</span> <span class="na">parameter1=</span><span class="s">&quot;_classMember:ActionTypes.ViewFileContents&quot;</span>
    <span class="na">parameter2=</span><span class="s">&quot;F981F171-B382-4F15-A8F9-FE3732918D3F&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;collection&gt;</span>
        <span class="nt">&lt;injectedObject</span> <span class="na">type=</span><span class="s">&quot;SharedServices.Implementations.ActionValidator1&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/collection&gt;</span>
<span class="nt">&lt;/if&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>A setting value specified by using prefix <strong>_settings</strong> followed by a setting name. A general, or plugin setting with specified name should exist in configuration file.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to <a class="reference internal" href="../settings.html"><span class="doc">Settings</span></a> or <a class="reference internal" href="../plugins.html"><span class="doc">Plugins</span></a> for more details on general and plugin settings.</p>
</div>
<p>Example (see <strong>parameter2</strong> with value “_settings:Project1Guid”):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!--The generated code will return a collection with one item of type</span>
<span class="cm">    SharedServices.Implementations.ActionValidator3, if the first parameter</span>
<span class="cm">    value is SharedServices.DataContracts.ActionTypes.ViewFileContents, and the second parameter</span>
<span class="cm">    is equal to the value of setting named **Project1Guid**.</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;if</span> <span class="na">parameter1=</span><span class="s">&quot;_classMember:ActionTypes.ViewFileContents&quot;</span>
    <span class="na">parameter2=</span><span class="s">&quot;_settings:Project1Guid&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;collection&gt;</span>
        <span class="nt">&lt;injectedObject</span> <span class="na">type=</span><span class="s">&quot;SharedServices.Implementations.ActionValidator3&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/collection&gt;</span>
<span class="nt">&lt;/if&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Specifying a return value using element <strong>default</strong></p>
<blockquote>
<div><p>Element <strong>default</strong> is is used to specify a value to return, if none of the conditions specified in <strong>if</strong> elements is <strong>true</strong>, or if no <strong>if</strong> element is present.</p>
<dl>
<dt><strong>IoC.Configuration</strong> will return the value specified in child of <strong>default</strong> element.</dt><dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The child of <strong>default</strong> element should be a value initializer element, such as <strong>collection</strong>, <strong>int32</strong>, <strong>constructedValue</strong>, <strong>injectedObject</strong>, etc. Refer to <a class="reference internal" href="../value-initialization-elements/index.html"><span class="doc">Value Initialization Elements</span></a> for more details on value initializer elements.</p>
</div>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;autoService</span> <span class="na">interface=</span><span class="s">&quot;IoC.Configuration.Tests.AutoService.Services.IMemberAmbiguityDemo&quot;</span><span class="nt">&gt;</span>
    <span class="cm">&lt;!--GetIntValues(): IReadOnlyList&lt;int&gt; GetIntValues(int param1, string param2)--&gt;</span>
    <span class="nt">&lt;autoMethod</span> <span class="na">name=</span><span class="s">&quot;GetIntValues&quot;</span> <span class="na">returnType=</span><span class="s">&quot;System.Collections.Generic.IReadOnlyList[System.Int32]&quot;</span> <span class="nt">&gt;</span>
        <span class="nt">&lt;methodSignature&gt;</span>
            <span class="nt">&lt;int32</span> <span class="na">paramName=</span><span class="s">&quot;param1&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;string</span> <span class="na">paramName=</span><span class="s">&quot;param2&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/methodSignature&gt;</span>
        <span class="nt">&lt;if</span> <span class="na">parameter1=</span><span class="s">&quot;1&quot;</span> <span class="na">parameter2=</span><span class="s">&quot;str1&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;collection&gt;</span>
                <span class="nt">&lt;int32</span> <span class="na">value=</span><span class="s">&quot;17&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/collection&gt;</span>
        <span class="nt">&lt;/if&gt;</span>
        <span class="nt">&lt;default&gt;</span>
            <span class="nt">&lt;collection&gt;</span>
                <span class="nt">&lt;int32</span> <span class="na">value=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;int32</span> <span class="na">value=</span><span class="s">&quot;19&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/collection&gt;</span>
        <span class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/autoMethod&gt;</span>
    <span class="cm">&lt;!--Some other autoMethod and autoproperty elements go here--&gt;</span>
<span class="nt">&lt;/autoService&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="referencing-the-auto-implemented-method-parameters">
<h3><a class="toc-backref" href="#id5">Referencing the auto-implemented method parameters</a><a class="headerlink" href="#referencing-the-auto-implemented-method-parameters" title="Permalink to this headline">¶</a></h3>
<p>Element <strong>parameterValue</strong> is used to reference a parameter value in auto-implemented method of auto-generated service.</p>
<p>This element can be used only under elements <strong>if</strong> or <strong>default</strong> under element <strong>autoMethod</strong>.</p>
<p>The element uses an attribute <strong>paramName</strong> to reference the parameter of auto-generated method.
A parameter with this name should be declared under element <strong>../autoService/autoMethod/methodSignature</strong>.</p>
<p>Example:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="nt">&lt;autoGeneratedServices&gt;</span>
<span class="linenos"> 2</span>  <span class="cm">&lt;!--Demo of referencing auto-implemented method parameters using</span>
<span class="linenos"> 3</span><span class="cm">      parameterValue element--&gt;</span>
<span class="linenos"> 4</span>  <span class="nt">&lt;autoService</span>
<span class="linenos"> 5</span>    <span class="na">interface=</span><span class="s">&quot;IoC.Configuration.Tests.AutoService.Services.IAppInfoFactory&quot;</span><span class="nt">&gt;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>    <span class="nt">&lt;autoMethod</span> <span class="na">name=</span><span class="s">&quot;CreateAppInfo&quot;</span>
<span class="linenos"> 8</span>                <span class="na">returnType=</span><span class="s">&quot;IoC.Configuration.Tests.AutoService.Services.IAppInfo&quot;</span><span class="nt">&gt;</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>      <span class="nt">&lt;methodSignature&gt;</span>
<span class="linenos">11</span>        <span class="nt">&lt;int32</span> <span class="na">paramName=</span><span class="s">&quot;appId&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">12</span>        <span class="nt">&lt;string</span> <span class="na">paramName=</span><span class="s">&quot;appDescription&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">13</span>      <span class="nt">&lt;/methodSignature&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span>      <span class="nt">&lt;default&gt;</span>
<span class="linenos">16</span>        <span class="nt">&lt;constructedValue</span>
<span class="linenos">17</span>            <span class="na">type=</span><span class="s">&quot;IoC.Configuration.Tests.AutoService.Services.AppInfo&quot;</span><span class="nt">&gt;</span>
<span class="linenos">18</span>          <span class="nt">&lt;parameters&gt;</span>
<span class="linenos">19</span>            <span class="cm">&lt;!--The value of name attribute is the name of constructor parameter</span>
<span class="linenos">20</span><span class="cm">                in AppInfo--&gt;</span>
<span class="linenos">21</span>            <span class="cm">&lt;!--</span>
<span class="linenos">22</span><span class="cm">            The value of paramName attribute is the name of parameter in</span>
<span class="linenos">23</span><span class="cm">            IAppInfoFactory.CreateAppInfo.</span>
<span class="linenos">24</span><span class="cm">            This parameter should be present under autoMethod/methodSignature element.</span>
<span class="linenos">25</span><span class="cm">            --&gt;</span>
<span class="linenos">26</span>            <span class="cm">&lt;!--In this example the values of name and paramName are similar, however</span>
<span class="linenos">27</span><span class="cm">                they don&#39;t have to be.--&gt;</span>
<span class="linenos">28</span>            <span class="nt">&lt;parameterValue</span> <span class="na">name=</span><span class="s">&quot;appId&quot;</span> <span class="na">paramName=</span><span class="s">&quot;appId&quot;</span> <span class="nt">/&gt;</span>
<span class="linenos">29</span>            <span class="nt">&lt;parameterValue</span> <span class="na">name=</span><span class="s">&quot;appDescription&quot;</span> <span class="na">paramName=</span><span class="s">&quot;appDescription&quot;</span> <span class="nt">/&gt;</span>
<span class="linenos">30</span>          <span class="nt">&lt;/parameters&gt;</span>
<span class="linenos">31</span>        <span class="nt">&lt;/constructedValue&gt;</span>
<span class="linenos">32</span>      <span class="nt">&lt;/default&gt;</span>
<span class="linenos">33</span>    <span class="nt">&lt;/autoMethod&gt;</span>
<span class="linenos">34</span>  <span class="nt">&lt;/autoService&gt;</span>
<span class="linenos">35</span><span class="nt">&lt;/autoGeneratedServices&gt;</span>
</pre></div>
</div>
</section>
<section id="caching-the-returned-values">
<h3><a class="toc-backref" href="#id6">Caching the returned values</a><a class="headerlink" href="#caching-the-returned-values" title="Permalink to this headline">¶</a></h3>
<p>If constructing the object returned by the function is time consuming, an optional attribute <strong>reuseValue</strong> in element <strong>autoMethod</strong> can be used to cache the returned values.</p>
<p>Example:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nt">&lt;autoService</span>
<span class="linenos">2</span>    <span class="na">interface=</span><span class="s">&quot;TestPluginAssembly1.Interfaces.IResourceAccessValidatorFactory&quot;</span><span class="nt">&gt;</span>
<span class="linenos">3</span>    <span class="nt">&lt;autoMethod</span> <span class="na">name=</span><span class="s">&quot;GetValidators&quot;</span>
<span class="linenos">4</span>                <span class="na">returnTypeRef=</span><span class="s">&quot;IEnumerableOfIResourceAccessValidator&quot;</span>
<span class="linenos">5</span>                <span class="na">reuseValue=</span><span class="s">&quot;true&quot;</span> <span class="nt">&gt;</span>
<span class="linenos">6</span>      <span class="cm">&lt;!--method signature and return value elements go here...--&gt;</span>
<span class="linenos">7</span>    <span class="nt">&lt;/autoMethod&gt;</span>
<span class="linenos">8</span>    <span class="cm">&lt;!--Some other autoMethod and autoProperty elements go here --&gt;</span>
<span class="linenos">9</span><span class="nt">&lt;/autoService&gt;</span>
</pre></div>
</div>
</section>
<section id="resolving-conflicts-by-using-declaringinterface-in-automethod">
<h3><a class="toc-backref" href="#id7">Resolving conflicts by using <strong>declaringInterface</strong> in <strong>autoMethod</strong></a><a class="headerlink" href="#resolving-conflicts-by-using-declaringinterface-in-automethod" title="Permalink to this headline">¶</a></h3>
<p>If the auto-implemented method with the specified name, signature, and return type is not in auto-implemented interface, but is present in multiple parent interfaces, <strong>IoC.Configuration</strong> will report an error, since it will not know which method the configuration refers to.</p>
<p>In such rare cases an attribute <strong>declaringInterface</strong> can be used to specify explicitly the parent interface, where the method is declared.</p>
<p>Example:</p>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">&lt;!--</span>
<span class="linenos"> 2</span><span class="cm">IoC.Configuration.Tests.AutoService.Services.IMemberAmbiguityDemo demonstrates cases</span>
<span class="linenos"> 3</span><span class="cm">when there are multiple occurrences of auto-generated methods and properties with</span>
<span class="linenos"> 4</span><span class="cm">same signatures and return types in its base interfaces.</span>
<span class="linenos"> 5</span><span class="cm">--&gt;</span>
<span class="linenos"> 6</span><span class="nt">&lt;autoService</span> <span class="na">interface=</span><span class="s">&quot;IoC.Configuration.Tests.AutoService.Services.IMemberAmbiguityDemo&quot;</span><span class="nt">&gt;</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span>    <span class="cm">&lt;!--GetIntValues(): IReadOnlyList&lt;int&gt; GetIntValues(int param1, string param2)--&gt;</span>
<span class="linenos"> 9</span>    <span class="nt">&lt;autoMethod</span> <span class="na">name=</span><span class="s">&quot;GetIntValues&quot;</span>
<span class="linenos">10</span>                <span class="na">returnType=</span><span class="s">&quot;System.Collections.Generic.IReadOnlyList[System.Int32]&quot;</span> <span class="nt">&gt;</span>
<span class="linenos">11</span>        <span class="nt">&lt;methodSignature&gt;</span>
<span class="linenos">12</span>            <span class="nt">&lt;int32</span> <span class="na">paramName=</span><span class="s">&quot;param1&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">13</span>            <span class="nt">&lt;string</span> <span class="na">paramName=</span><span class="s">&quot;param2&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">14</span>        <span class="nt">&lt;/methodSignature&gt;</span>
<span class="linenos">15</span>        <span class="nt">&lt;if</span> <span class="na">parameter1=</span><span class="s">&quot;1&quot;</span> <span class="na">parameter2=</span><span class="s">&quot;str1&quot;</span><span class="nt">&gt;</span>
<span class="linenos">16</span>            <span class="nt">&lt;collection&gt;</span>
<span class="linenos">17</span>              <span class="nt">&lt;int32</span> <span class="na">value=</span><span class="s">&quot;17&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">18</span>            <span class="nt">&lt;/collection&gt;</span>
<span class="linenos">19</span>        <span class="nt">&lt;/if&gt;</span>
<span class="linenos">20</span>        <span class="nt">&lt;default&gt;</span>
<span class="linenos">21</span>            <span class="nt">&lt;collection&gt;</span>
<span class="linenos">22</span>                <span class="nt">&lt;int32</span> <span class="na">value=</span><span class="s">&quot;18&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">23</span>                <span class="nt">&lt;int32</span> <span class="na">value=</span><span class="s">&quot;19&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">24</span>            <span class="nt">&lt;/collection&gt;</span>
<span class="linenos">25</span>        <span class="nt">&lt;/default&gt;</span>
<span class="linenos">26</span>    <span class="nt">&lt;/autoMethod&gt;</span>
<span class="linenos">27</span>
<span class="linenos">28</span>    <span class="cm">&lt;!--</span>
<span class="linenos">29</span><span class="cm">    This method is declared in IMemberAmbiguityDemo_Parent3, which is a base interface for</span>
<span class="linenos">30</span><span class="cm">    IMemberAmbiguityDemo.</span>
<span class="linenos">31</span><span class="cm">    We can provide implementation for this interface, even though it has a similar signature</span>
<span class="linenos">32</span><span class="cm">    and return type as the method</span>
<span class="linenos">33</span><span class="cm">    IoC.Configuration.Tests.AutoService.Services.IMemberAmbiguityDemo.GetIntValues.</span>
<span class="linenos">34</span><span class="cm">    By using the attribute &#39;declaringInterface&#39;, we make a distinction between these two.</span>
<span class="linenos">35</span><span class="cm">    --&gt;</span>
<span class="linenos">36</span>    <span class="nt">&lt;autoMethod</span> <span class="na">name=</span><span class="s">&quot;GetIntValues&quot;</span>
<span class="linenos">37</span>                <span class="na">returnType=</span><span class="s">&quot;System.Collections.Generic.IReadOnlyList[System.Int32]&quot;</span>
<span class="linenos">38</span>                <span class="na">declaringInterface=</span><span class="s">&quot;IoC.Configuration.Tests.AutoService.Services.IMemberAmbiguityDemo_Parent3&quot;</span><span class="nt">&gt;</span>
<span class="linenos">39</span>        <span class="nt">&lt;methodSignature&gt;</span>
<span class="linenos">40</span>            <span class="nt">&lt;int32</span> <span class="na">paramName=</span><span class="s">&quot;param1&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">41</span>            <span class="nt">&lt;string</span> <span class="na">paramName=</span><span class="s">&quot;param2&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">42</span>        <span class="nt">&lt;/methodSignature&gt;</span>
<span class="linenos">43</span>        <span class="nt">&lt;default&gt;</span>
<span class="linenos">44</span>            <span class="nt">&lt;collection&gt;</span>
<span class="linenos">45</span>                <span class="nt">&lt;int32</span> <span class="na">value=</span><span class="s">&quot;3&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">46</span>            <span class="nt">&lt;/collection&gt;</span>
<span class="linenos">47</span>        <span class="nt">&lt;/default&gt;</span>
<span class="linenos">48</span>    <span class="nt">&lt;/autoMethod&gt;</span>
<span class="linenos">49</span><span class="nt">&lt;/autoService&gt;</span>
</pre></div>
</div>
</div></blockquote>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Element <strong>autoMethod</strong></a><ul>
<li><a class="reference internal" href="#the-format-of-automethod">The format of <strong>autoMethod</strong></a><ul>
<li><a class="reference internal" href="#method-name-and-return-type-in-automethod">Method name and return type in <strong>autoMethod</strong></a></li>
<li><a class="reference internal" href="#method-signature">Method signature</a></li>
<li><a class="reference internal" href="#specifying-the-return-values">Specifying the return values</a></li>
<li><a class="reference internal" href="#referencing-the-auto-implemented-method-parameters">Referencing the auto-implemented method parameters</a></li>
<li><a class="reference internal" href="#caching-the-returned-values">Caching the returned values</a></li>
<li><a class="reference internal" href="#resolving-conflicts-by-using-declaringinterface-in-automethod">Resolving conflicts by using <strong>declaringInterface</strong> in <strong>autoMethod</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="element-auto-service.html"
                          title="previous chapter">Element <strong>autoService</strong></a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="auto-property.html"
                          title="next chapter">Element <strong>autoProperty</strong></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/xml-configuration-file/autogenerated-services/auto-method.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="auto-property.html" title="Element autoProperty"
             >next</a> |</li>
        <li class="right" >
          <a href="element-auto-service.html" title="Element autoService"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">IoC.Configuration 1.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >XML Configuration File</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../dependency-injection.html" >Dependency Injection</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" >Autogenerated Services</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="element-auto-service.html" >Element <strong>autoService</strong></a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Element <strong>autoMethod</strong></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Artak Hakobyan.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>